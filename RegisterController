import javax.swing.*;

public class RegisterController {
    private RegisterGUI registerGUI;

    public RegisterController(RegisterGUI registerGUI) {
        this.registerGUI = registerGUI;
    }

    public boolean validateFields() {
        String firstName = registerGUI.getTxtFirstName().getText();
        String lastName = registerGUI.getTxtLastName().getText();
        String email = registerGUI.getTxtEmail().getText();
        String username = registerGUI.getTxtUsername().getText();
        String password = new String(registerGUI.getTxtPassword().getPassword());
        String confirmPassword = new String(registerGUI.getTxtConfirmPassword().getPassword());

        boolean isValidFirstName = !firstName.isEmpty();
        boolean isValidLastName = !lastName.isEmpty();
        boolean isValidEmail = email.matches("[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}");
        boolean isValidUsername = username.length() >= 5;
        boolean isValidPassword = password.length() >= 8;
        boolean isValidConfirmPassword = password.equals(confirmPassword);

        if (!isValidFirstName) {
            showError("Please enter your first name");
        } else if (!isValidLastName) {
            showError("Please enter your last name");
        } else if (!isValidEmail) {
            showError("Please enter a valid email address");
        } else if (!isValidUsername) {
            showError("Please enter a valid username (at least 5 characters long)");
        } else if (!isValidPassword) {
            showError("Please enter a valid password (at least 8 characters long)");
        } else if (!isValidConfirmPassword) {
            showError("Passwords do not match");
        }

        return isValidFirstName && isValidLastName && isValidEmail && isValidUsername && isValidPassword && isValidConfirmPassword;
    }

    private void showError(String message) {
        JOptionPane.showMessageDialog(registerGUI, message, "Error", JOptionPane.ERROR_MESSAGE);
    }
}
